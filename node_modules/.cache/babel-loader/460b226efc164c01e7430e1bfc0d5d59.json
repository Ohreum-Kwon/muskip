{"ast":null,"code":"var _jsxFileName = \"/Users/ohreumkwon/Desktop/React/muskip/src/App.js\";\n\n/* This file handles running the whole application */\nimport React, { useEffect } from \"react\";\nimport SpotifyWebApi from \"spotify-web-api-js\";\nimport { useStateValue } from \"./StateProvider\";\nimport Player from \"./Player\";\nimport { getTokenFromResponse } from \"./spotify\";\nimport \"./App.css\";\nimport Login from \"./Login\"; // get Spotify API\n\nconst s = new SpotifyWebApi();\n\nfunction App() {\n  const [{\n    token\n  }, dispatch] = useStateValue();\n  useEffect(() => {\n    // Set token\n    const hash = getTokenFromResponse();\n    window.location.hash = \"\";\n    let _token = hash.access_token; // set access token\n\n    if (_token) {\n      s.setAccessToken(_token);\n      dispatch({\n        type: \"SET_TOKEN\",\n        token: _token\n      }); // get playlist using playlist token\n\n      s.getPlaylist(\"5LnhXaBy0eDgaoRGe7zm2L\").then(response => dispatch({\n        type: \"SET_PLAYLIST\",\n        playlist: response\n      })); // get top artists from spotify\n\n      s.getMyTopArtists().then(response => dispatch({\n        type: \"SET_TOP_ARTISTS\",\n        top_artists: response\n      }));\n      dispatch({\n        type: \"SET_SPOTIFY\",\n        spotify: s\n      }); // get user information from spotify\n\n      s.getMe().then(user => {\n        dispatch({\n          type: \"SET_USER\",\n          user\n        });\n      }); // get user playlist from spotify\n\n      s.getUserPlaylists().then(playlists => {\n        dispatch({\n          type: \"SET_PLAYLISTS\",\n          playlists\n        });\n      });\n    }\n  }, [token, dispatch]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, !token && /*#__PURE__*/React.createElement(Login, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 22\n    }\n  }), token && /*#__PURE__*/React.createElement(Player, {\n    spotify: s,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/ohreumkwon/Desktop/React/muskip/src/App.js"],"names":["React","useEffect","SpotifyWebApi","useStateValue","Player","getTokenFromResponse","Login","s","App","token","dispatch","hash","window","location","_token","access_token","setAccessToken","type","getPlaylist","then","response","playlist","getMyTopArtists","top_artists","spotify","getMe","user","getUserPlaylists","playlists"],"mappings":";;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,aAAP,MAA0B,oBAA1B;AACA,SAASC,aAAT,QAA8B,iBAA9B;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,oBAAT,QAAqC,WAArC;AACA,OAAO,WAAP;AACA,OAAOC,KAAP,MAAkB,SAAlB,C,CAEA;;AACA,MAAMC,CAAC,GAAG,IAAIL,aAAJ,EAAV;;AAEA,SAASM,GAAT,GAAe;AACb,QAAM,CAAC;AAAEC,IAAAA;AAAF,GAAD,EAAYC,QAAZ,IAAwBP,aAAa,EAA3C;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACd;AACA,UAAMU,IAAI,GAAGN,oBAAoB,EAAjC;AACAO,IAAAA,MAAM,CAACC,QAAP,CAAgBF,IAAhB,GAAuB,EAAvB;AACA,QAAIG,MAAM,GAAGH,IAAI,CAACI,YAAlB,CAJc,CAMd;;AACA,QAAID,MAAJ,EAAY;AACVP,MAAAA,CAAC,CAACS,cAAF,CAAiBF,MAAjB;AAEAJ,MAAAA,QAAQ,CAAC;AACPO,QAAAA,IAAI,EAAE,WADC;AAEPR,QAAAA,KAAK,EAAEK;AAFA,OAAD,CAAR,CAHU,CAQV;;AACAP,MAAAA,CAAC,CAACW,WAAF,CAAc,wBAAd,EAAwCC,IAAxC,CAA8CC,QAAD,IAC3CV,QAAQ,CAAC;AACPO,QAAAA,IAAI,EAAE,cADC;AAEPI,QAAAA,QAAQ,EAAED;AAFH,OAAD,CADV,EATU,CAgBV;;AACAb,MAAAA,CAAC,CAACe,eAAF,GAAoBH,IAApB,CAA0BC,QAAD,IACvBV,QAAQ,CAAC;AACPO,QAAAA,IAAI,EAAE,iBADC;AAEPM,QAAAA,WAAW,EAAEH;AAFN,OAAD,CADV;AAOAV,MAAAA,QAAQ,CAAC;AACPO,QAAAA,IAAI,EAAE,aADC;AAEPO,QAAAA,OAAO,EAAEjB;AAFF,OAAD,CAAR,CAxBU,CA6BV;;AACAA,MAAAA,CAAC,CAACkB,KAAF,GAAUN,IAAV,CAAgBO,IAAD,IAAU;AACvBhB,QAAAA,QAAQ,CAAC;AACPO,UAAAA,IAAI,EAAE,UADC;AAEPS,UAAAA;AAFO,SAAD,CAAR;AAID,OALD,EA9BU,CAqCV;;AACAnB,MAAAA,CAAC,CAACoB,gBAAF,GAAqBR,IAArB,CAA2BS,SAAD,IAAe;AACvClB,QAAAA,QAAQ,CAAC;AACPO,UAAAA,IAAI,EAAE,eADC;AAEPW,UAAAA;AAFO,SAAD,CAAR;AAID,OALD;AAMD;AACF,GApDQ,EAoDN,CAACnB,KAAD,EAAQC,QAAR,CApDM,CAAT;AAsDA,sBACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK,CAACD,KAAD,iBAAU,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADf,EAEKA,KAAK,iBAAI,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEF,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFd,CADJ;AAMD;;AAED,eAAeC,GAAf","sourcesContent":["/* This file handles running the whole application */\nimport React, { useEffect } from \"react\";\nimport SpotifyWebApi from \"spotify-web-api-js\";\nimport { useStateValue } from \"./StateProvider\";\nimport Player from \"./Player\";\nimport { getTokenFromResponse } from \"./spotify\";\nimport \"./App.css\";\nimport Login from \"./Login\";\n\n// get Spotify API\nconst s = new SpotifyWebApi();\n\nfunction App() {\n  const [{ token }, dispatch] = useStateValue();\n\n  useEffect(() => {\n    // Set token\n    const hash = getTokenFromResponse();\n    window.location.hash = \"\";\n    let _token = hash.access_token;\n\n    // set access token\n    if (_token) {\n      s.setAccessToken(_token);\n\n      dispatch({\n        type: \"SET_TOKEN\",\n        token: _token,\n      });\n\n      // get playlist using playlist token\n      s.getPlaylist(\"5LnhXaBy0eDgaoRGe7zm2L\").then((response) =>\n        dispatch({\n          type: \"SET_PLAYLIST\",\n          playlist: response,\n        })\n      );\n\n      // get top artists from spotify\n      s.getMyTopArtists().then((response) =>\n        dispatch({\n          type: \"SET_TOP_ARTISTS\",\n          top_artists: response,\n        })\n      );\n\n      dispatch({\n        type: \"SET_SPOTIFY\",\n        spotify: s,\n      });\n\n      // get user information from spotify\n      s.getMe().then((user) => {\n        dispatch({\n          type: \"SET_USER\",\n          user,\n        });\n      });\n\n      // get user playlist from spotify\n      s.getUserPlaylists().then((playlists) => {\n        dispatch({\n          type: \"SET_PLAYLISTS\",\n          playlists,\n        });\n      });\n    }\n  }, [token, dispatch]);\n\n  return (\n      <div className=\"app\">\n          {!token && <Login />}\n          {token && <Player spotify={s} />}\n      </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}