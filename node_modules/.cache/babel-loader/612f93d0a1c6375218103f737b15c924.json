{"ast":null,"code":"var _jsxFileName = \"/Users/ohreumkwon/Desktop/React/muskip/src/pages/WebApp/WebApp.js\";\nimport React, { useEffect } from 'react';\nimport SpotifyPlaylists from './components/SpotifyGetPlaylists/SpotifyPlaylists';\nimport \"./WebApp.css\";\nconst CLIENT_ID = \"663640c06513442e87c51a2075806944\";\nconst SPOTIFY_AUTHORIZE_ENDPOINT = \"https://accounts.spotify.com/authorize\";\nconst REDIRECT_URL_AFTER_LOGIN = \"http://localhost:3000/webapp\";\nconst SPACE_DELIMITER = \"%20\";\nconst SCOPES = [\"user-read-currently-playing\", \"user-read-playback-state\"];\nconst SCOPES_URL_PARAM = SCOPES.join(SPACE_DELIMITER);\n\nconst getReturnedParamsFromSpotifyAuth = hash => {\n  const stringAfterHashing = hash.substring(1);\n  const paramsInUrl = stringAfterHashing.split(\"&\");\n  const paramsSplitUp = paramsInUrl.reduce((accumlator, currentValue) => {\n    console.log(currentValue);\n    const [key, value] = currentValue.split(\"=\");\n    accumlator[key] = value;\n    return accumlator;\n  }, {});\n  return paramsSplitUp;\n};\n\nconst WebApp = () => {\n  useEffect(() => {\n    if (window.location.hash) {\n      const {\n        access_token,\n        expires_in,\n        token_type\n      } = getReturnedParamsFromSpotifyAuth(window.location.hash);\n      localStorage.clear();\n      localStorage.setItem(\"accessToken\", access_token);\n      localStorage.setItem(\"tokenType\", token_type);\n      localStorage.setItem(\"expiresIn\", expires_in);\n    }\n  });\n\n  const handleLogin = () => {\n    window.location = `${SPOTIFY_AUTHORIZE_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URL_AFTER_LOGIN}&scope=${SCOPES_URL_PARAM}&response_type=token&show_dialog=true`;\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, \"This page is for login to Spotify\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, \"login to Spotify\"), /*#__PURE__*/React.createElement(SpotifyPlaylists, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default WebApp;","map":{"version":3,"sources":["/Users/ohreumkwon/Desktop/React/muskip/src/pages/WebApp/WebApp.js"],"names":["React","useEffect","SpotifyPlaylists","CLIENT_ID","SPOTIFY_AUTHORIZE_ENDPOINT","REDIRECT_URL_AFTER_LOGIN","SPACE_DELIMITER","SCOPES","SCOPES_URL_PARAM","join","getReturnedParamsFromSpotifyAuth","hash","stringAfterHashing","substring","paramsInUrl","split","paramsSplitUp","reduce","accumlator","currentValue","console","log","key","value","WebApp","window","location","access_token","expires_in","token_type","localStorage","clear","setItem","handleLogin"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,OAAOC,gBAAP,MAA6B,mDAA7B;AACA,OAAO,cAAP;AAEA,MAAMC,SAAS,GAAG,kCAAlB;AACA,MAAMC,0BAA0B,GAAG,wCAAnC;AACA,MAAMC,wBAAwB,GAAG,8BAAjC;AACA,MAAMC,eAAe,GAAG,KAAxB;AACA,MAAMC,MAAM,GAAG,CAAC,6BAAD,EAAgC,0BAAhC,CAAf;AACA,MAAMC,gBAAgB,GAAGD,MAAM,CAACE,IAAP,CAAYH,eAAZ,CAAzB;;AAEA,MAAMI,gCAAgC,GAAIC,IAAD,IAAU;AAC/C,QAAMC,kBAAkB,GAAGD,IAAI,CAACE,SAAL,CAAe,CAAf,CAA3B;AACA,QAAMC,WAAW,GAAGF,kBAAkB,CAACG,KAAnB,CAAyB,GAAzB,CAApB;AACA,QAAMC,aAAa,GAAGF,WAAW,CAACG,MAAZ,CAAmB,CAACC,UAAD,EAAaC,YAAb,KAA8B;AACnEC,IAAAA,OAAO,CAACC,GAAR,CAAYF,YAAZ;AACA,UAAM,CAACG,GAAD,EAAMC,KAAN,IAAeJ,YAAY,CAACJ,KAAb,CAAmB,GAAnB,CAArB;AACAG,IAAAA,UAAU,CAACI,GAAD,CAAV,GAAkBC,KAAlB;AACA,WAAOL,UAAP;AACH,GALqB,EAKnB,EALmB,CAAtB;AAMA,SAAOF,aAAP;AACH,CAVD;;AAYA,MAAMQ,MAAM,GAAG,MAAM;AACjBvB,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGwB,MAAM,CAACC,QAAP,CAAgBf,IAAnB,EAAwB;AACpB,YAAM;AACFgB,QAAAA,YADE;AAEFC,QAAAA,UAFE;AAGFC,QAAAA;AAHE,UAIFnB,gCAAgC,CAACe,MAAM,CAACC,QAAP,CAAgBf,IAAjB,CAJpC;AAKAmB,MAAAA,YAAY,CAACC,KAAb;AACAD,MAAAA,YAAY,CAACE,OAAb,CAAqB,aAArB,EAAoCL,YAApC;AACAG,MAAAA,YAAY,CAACE,OAAb,CAAqB,WAArB,EAAkCH,UAAlC;AACAC,MAAAA,YAAY,CAACE,OAAb,CAAqB,WAArB,EAAkCJ,UAAlC;AACH;AACJ,GAZQ,CAAT;;AAaA,QAAMK,WAAW,GAAG,MAAM;AACtBR,IAAAA,MAAM,CAACC,QAAP,GAAmB,GAAEtB,0BAA2B,cAAaD,SAAU,iBAAgBE,wBAAyB,UAASG,gBAAiB,uCAA1I;AACH,GAFD;;AAGA,sBACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCADJ,eAEI;AAAQ,IAAA,OAAO,EAAEyB,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ,eAGI,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CADJ;AAOH,CAxBD;;AAyBA,eAAeT,MAAf","sourcesContent":["import React,{useEffect} from 'react'\nimport SpotifyPlaylists from './components/SpotifyGetPlaylists/SpotifyPlaylists';\nimport \"./WebApp.css\";\n\nconst CLIENT_ID = \"663640c06513442e87c51a2075806944\"\nconst SPOTIFY_AUTHORIZE_ENDPOINT = \"https://accounts.spotify.com/authorize\"\nconst REDIRECT_URL_AFTER_LOGIN = \"http://localhost:3000/webapp\"\nconst SPACE_DELIMITER = \"%20\";\nconst SCOPES = [\"user-read-currently-playing\", \"user-read-playback-state\"];\nconst SCOPES_URL_PARAM = SCOPES.join(SPACE_DELIMITER);\n\nconst getReturnedParamsFromSpotifyAuth = (hash) => {\n    const stringAfterHashing = hash.substring(1);\n    const paramsInUrl = stringAfterHashing.split(\"&\");\n    const paramsSplitUp = paramsInUrl.reduce((accumlator, currentValue) => {\n        console.log(currentValue);\n        const [key, value] = currentValue.split(\"=\");\n        accumlator[key] = value;\n        return accumlator;\n    }, {});\n    return paramsSplitUp;\n}\n\nconst WebApp = () => {\n    useEffect(() => {\n        if(window.location.hash){\n            const {\n                access_token,\n                expires_in,\n                token_type,\n            } = getReturnedParamsFromSpotifyAuth(window.location.hash);\n            localStorage.clear();\n            localStorage.setItem(\"accessToken\", access_token);\n            localStorage.setItem(\"tokenType\", token_type);\n            localStorage.setItem(\"expiresIn\", expires_in);\n        }\n    })\n    const handleLogin = () => {\n        window.location = `${SPOTIFY_AUTHORIZE_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URL_AFTER_LOGIN}&scope=${SCOPES_URL_PARAM}&response_type=token&show_dialog=true`\n    }\n    return (\n        <div className=\"container\">\n            <h1>This page is for login to Spotify</h1>\n            <button onClick={handleLogin}>login to Spotify</button>\n            <SpotifyPlaylists />\n        </div>\n    )\n}\nexport default WebApp\n"]},"metadata":{},"sourceType":"module"}