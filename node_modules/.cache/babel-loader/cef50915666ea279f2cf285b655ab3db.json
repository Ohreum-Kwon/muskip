{"ast":null,"code":"var _jsxFileName = \"/Users/ohreumkwon/Desktop/React/muskip/src/pages/Login.js\",\n    _s = $RefreshSig$();\n\n/*\nThis file handles to login with Muskip. User can login with Google or Facebook account or Muskip user ID and password\n*/\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { fbSignInInitiate, googleSignInInitiate, loginInitiate } from '../redux/actions';\nimport \"./Login.css\";\nimport googleimg from \"../img/google.png\";\nimport { ToastContainer, toast } from 'react-toastify';\n\nconst Login = ({\n  loginUser\n}) => {\n  _s();\n\n  const [state, setState] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const {\n    email,\n    password\n  } = state;\n  const {\n    currentUser\n  } = useSelector(state => state.user);\n  const navigate = useHistory();\n  useEffect(() => {\n    if (currentUser) {\n      navigate.push(\"/home\");\n    }\n  }, [currentUser, navigate]);\n  const dispatch = useDispatch(); //to login wtih google\n\n  const handleGoogleSignIn = () => {\n    dispatch(googleSignInInitiate());\n  }; //to login with facebook\n\n\n  const handleFBSignIn = () => {\n    dispatch(fbSignInInitiate());\n  }; //after clicking a login button, check the user input is valid or not. once everything is okay, user info would be saved in user database.\n\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (!email || !password) {\n      console.log(\"email is \" + email + \", password is \" + password);\n      return toast.error(\"Incorrect Information, Please try again.\");\n    }\n\n    dispatch(loginInitiate(email, password));\n    setState({\n      email: \"\",\n      password: \"\"\n    });\n    const data = {\n      email,\n      password\n    };\n    loginUser(data);\n  };\n\n  const handleChange = e => {\n    let {\n      name,\n      value\n    } = e.target;\n    setState({ ...state,\n      [name]: value\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ToastContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"logreg-forms\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form-signin\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"h3 mb-3 font-weight-normal\",\n    style: {\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }, \"Muskip\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"social-login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn google-btn social-btn\",\n    type: \"button\",\n    onClick: handleGoogleSignIn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"socialText\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"logo\",\n    src: googleimg,\n    alt: \"google\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 37\n    }\n  }), \"Continue with Google\"))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn facebook-btn social-btn\",\n    type: \"button\",\n    onClick: handleFBSignIn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"socialText\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fab fa-facebook-f\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 37\n    }\n  }), \"Continue with Facebook\")))), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, \"OR\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    id: \"inputEmail\",\n    className: \"form-control\",\n    placeholder: \"Email Address\",\n    name: \"email\",\n    onChange: handleChange,\n    value: email,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"inputPassword\",\n    className: \"form-control\",\n    placeholder: \"password\",\n    name: \"password\",\n    onChange: handleChange,\n    value: password,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-secondary btn-block\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-sign-in-alt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }), \"  Sign In\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }, \"Don't have an account?\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary btn-block\",\n    type: \"button\",\n    id: \"btn-signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-user-plus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 29\n    }\n  }), \" Sign up New Account\")))));\n};\n\n_s(Login, \"oCmPO0EZunRVBYn28+Rqche1Dsg=\", false, function () {\n  return [useSelector, useHistory, useDispatch];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/ohreumkwon/Desktop/React/muskip/src/pages/Login.js"],"names":["React","useState","useEffect","useDispatch","useSelector","useHistory","Link","fbSignInInitiate","googleSignInInitiate","loginInitiate","googleimg","ToastContainer","toast","Login","loginUser","state","setState","email","password","currentUser","user","navigate","push","dispatch","handleGoogleSignIn","handleFBSignIn","handleSubmit","e","preventDefault","console","log","error","data","handleChange","name","value","target","textAlign"],"mappings":"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","sourcesContent":["/*\nThis file handles to login with Muskip. User can login with Google or Facebook account or Muskip user ID and password\n*/\n\n\n\nimport React ,{useState, useEffect } from 'react'\nimport {useDispatch, useSelector } from \"react-redux\"\nimport {useHistory, Link } from \"react-router-dom\"\nimport { fbSignInInitiate, googleSignInInitiate, loginInitiate } from '../redux/actions';\nimport \"./Login.css\";\nimport googleimg from \"../img/google.png\"\nimport {ToastContainer, toast } from 'react-toastify';\n\n\nconst Login = ({loginUser}) => {\n    const [state, setState ] = useState({\n        email: \"\",\n        password: \"\",\n    })\n    const {email, password} = state;\n\n    const {currentUser} = useSelector((state) => state.user);\n\n    \n    const navigate = useHistory();\n    useEffect(() => {\n        if(currentUser){\n            navigate.push(\"/home\");\n        }\n    }, [currentUser, navigate]);\n    const dispatch = useDispatch();\n\n    //to login wtih google\n    const handleGoogleSignIn = () => {\n        dispatch(googleSignInInitiate());\n    }\n    //to login with facebook\n    const handleFBSignIn = () => {\n        dispatch(fbSignInInitiate());\n    }\n    //after clicking a login button, check the user input is valid or not. once everything is okay, user info would be saved in user database.\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if(!email || !password){\n            console.log(\"email is \" + email + \", password is \" + password)\n            return toast.error(\"Incorrect Information, Please try again.\");\n        }\n        dispatch(loginInitiate(email, password));\n        setState({email: \"\", password: \"\"});\n\n        const data = {\n            email, password\n        };\n\n        loginUser(data);\n    }\n\n    const handleChange = (e) => {\n        let {name, value} = e.target;\n        setState({...state, [name]: value });\n    }\n\n    return (\n        <div>\n        <ToastContainer />\n            <div id=\"logreg-forms\">\n                <form className=\"form-signin\" onSubmit={handleSubmit}>\n                    <h1 className=\"h3 mb-3 font-weight-normal\" style={{ textAlign: \"center\"}}>\n                        Muskip\n                    </h1>\n                    <div className=\"social-login\">\n                        <button className=\"btn google-btn social-btn\" type=\"button\" onClick={handleGoogleSignIn}>\n                            <div>\n                                <span className=\"socialText\" >\n                                    {/* <i className=\"fab fa-google-plus-g\"></i> */}\n                                    <img className=\"logo\" src={googleimg} alt=\"google\"/> \n                                      Continue with Google\n                                </span>\n                            </div>\n                        </button>\n                        <button className=\"btn facebook-btn social-btn\" type=\"button\" onClick={handleFBSignIn}>\n                            <div>\n                                <span className=\"socialText\">\n                                    <i className=\"fab fa-facebook-f\"></i>  \n                                    {/* <img className=\"fb_logo\" src={fbimg} alt=\"fb\"/>  */}\n                                        Continue with Facebook\n                                </span>\n                            </div>\n                        </button>\n                    </div>\n                    <p style={{textAlign: \"center\"}}>OR</p>\n                    <input \n                        type=\"email\"\n                        id=\"inputEmail\"\n                        className=\"form-control\"\n                        placeholder=\"Email Address\"\n                        name=\"email\"\n                        onChange={handleChange}\n                        value ={email}\n                        required\n                    />\n                    <input \n                        type=\"password\"\n                        id=\"inputPassword\"\n                        className=\"form-control\"\n                        placeholder=\"password\"\n                        name=\"password\"\n                        onChange={handleChange}\n                        value ={password}\n                        required\n                    />\n                    <button className=\"btn btn-secondary btn-block\" type=\"submit\">\n                        <i className=\"fas fa-sign-in-alt\"></i>  Sign In\n                    </button>\n                    <hr/>\n                    <p>Don't have an account?</p>\n                    <Link to=\"/register\">\n                        <button className=\"btn btn-primary btn-block\" type=\"button\" id=\"btn-signup\">\n                            <i className=\"fas fa-user-plus\"></i> Sign up New Account\n                        </button>\n                    </Link>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}